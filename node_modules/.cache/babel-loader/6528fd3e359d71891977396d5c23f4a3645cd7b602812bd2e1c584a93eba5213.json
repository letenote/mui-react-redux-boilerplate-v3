{"ast":null,"code":"import { useEffect, useRef } from \"react\";\nimport { useScreen } from \"./useScreen\";\nimport { useLayoutCtx } from \"../Root/Root\";\nimport { BREAKPOINT_KEYS } from \"../utils/muiBreakpoints\";\nexport var useSidebarAutoCollapse = function useSidebarAutoCollapse(sidebarId) {\n  var _builder$sidebarId;\n  var _useLayoutCtx = useLayoutCtx(),\n    builder = _useLayoutCtx.builder,\n    setCollapsed = _useLayoutCtx.setCollapsed;\n  var screen = useScreen();\n  var prevScreen = useRef(screen);\n  var collapsedBp = sidebarId ? (_builder$sidebarId = builder[sidebarId]) === null || _builder$sidebarId === void 0 ? void 0 : _builder$sidebarId.autoCollapse : undefined;\n  useEffect(function () {\n    if (sidebarId && collapsedBp && screen && prevScreen.current) {\n      if (screen === prevScreen.current && BREAKPOINT_KEYS.indexOf(screen) <= BREAKPOINT_KEYS.indexOf(collapsedBp)) {\n        // first mount on browser\n        setCollapsed(sidebarId, true);\n      } // when viewport changes\n\n      if (screen !== prevScreen.current) {\n        if (BREAKPOINT_KEYS.indexOf(prevScreen.current) <= BREAKPOINT_KEYS.indexOf(collapsedBp) && BREAKPOINT_KEYS.indexOf(collapsedBp) < BREAKPOINT_KEYS.indexOf(screen)) {\n          setCollapsed(sidebarId, false);\n        }\n        if (BREAKPOINT_KEYS.indexOf(prevScreen.current) > BREAKPOINT_KEYS.indexOf(collapsedBp) && BREAKPOINT_KEYS.indexOf(collapsedBp) >= BREAKPOINT_KEYS.indexOf(screen)) {\n          setCollapsed(sidebarId, true);\n        }\n        prevScreen.current = screen;\n      }\n    }\n  }, [screen]);\n};","map":{"version":3,"names":["useEffect","useRef","useScreen","useLayoutCtx","BREAKPOINT_KEYS","useSidebarAutoCollapse","sidebarId","_builder$sidebarId","builder","setCollapsed","screen","prevScreen","collapsedBp","autoCollapse","undefined","current","indexOf"],"sources":["/Users/rezaaditya/Documents/github/mui-app-v3/node_modules/@mui-treasury/layout/esm/hooks/useSidebarAutoCollapse.js"],"sourcesContent":["import { useEffect, useRef } from \"react\";\nimport { useScreen } from \"./useScreen\";\nimport { useLayoutCtx } from \"../Root/Root\";\nimport { BREAKPOINT_KEYS } from \"../utils/muiBreakpoints\";\nexport var useSidebarAutoCollapse = sidebarId => {\n  var _builder$sidebarId;\n\n  var {\n    builder,\n    setCollapsed\n  } = useLayoutCtx();\n  var screen = useScreen();\n  var prevScreen = useRef(screen);\n  var collapsedBp = sidebarId ? (_builder$sidebarId = builder[sidebarId]) === null || _builder$sidebarId === void 0 ? void 0 : _builder$sidebarId.autoCollapse : undefined;\n  useEffect(() => {\n    if (sidebarId && collapsedBp && screen && prevScreen.current) {\n      if (screen === prevScreen.current && BREAKPOINT_KEYS.indexOf(screen) <= BREAKPOINT_KEYS.indexOf(collapsedBp)) {\n        // first mount on browser\n        setCollapsed(sidebarId, true);\n      } // when viewport changes\n\n\n      if (screen !== prevScreen.current) {\n        if (BREAKPOINT_KEYS.indexOf(prevScreen.current) <= BREAKPOINT_KEYS.indexOf(collapsedBp) && BREAKPOINT_KEYS.indexOf(collapsedBp) < BREAKPOINT_KEYS.indexOf(screen)) {\n          setCollapsed(sidebarId, false);\n        }\n\n        if (BREAKPOINT_KEYS.indexOf(prevScreen.current) > BREAKPOINT_KEYS.indexOf(collapsedBp) && BREAKPOINT_KEYS.indexOf(collapsedBp) >= BREAKPOINT_KEYS.indexOf(screen)) {\n          setCollapsed(sidebarId, true);\n        }\n\n        prevScreen.current = screen;\n      }\n    }\n  }, [screen]);\n};"],"mappings":"AAAA,SAASA,SAAS,EAAEC,MAAM,QAAQ,OAAO;AACzC,SAASC,SAAS,QAAQ,aAAa;AACvC,SAASC,YAAY,QAAQ,cAAc;AAC3C,SAASC,eAAe,QAAQ,yBAAyB;AACzD,OAAO,IAAIC,sBAAsB,GAAG,SAAzBA,sBAAsB,CAAGC,SAAS,EAAI;EAC/C,IAAIC,kBAAkB;EAEtB,oBAGIJ,YAAY,EAAE;IAFhBK,OAAO,iBAAPA,OAAO;IACPC,YAAY,iBAAZA,YAAY;EAEd,IAAIC,MAAM,GAAGR,SAAS,EAAE;EACxB,IAAIS,UAAU,GAAGV,MAAM,CAACS,MAAM,CAAC;EAC/B,IAAIE,WAAW,GAAGN,SAAS,GAAG,CAACC,kBAAkB,GAAGC,OAAO,CAACF,SAAS,CAAC,MAAM,IAAI,IAAIC,kBAAkB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,kBAAkB,CAACM,YAAY,GAAGC,SAAS;EACxKd,SAAS,CAAC,YAAM;IACd,IAAIM,SAAS,IAAIM,WAAW,IAAIF,MAAM,IAAIC,UAAU,CAACI,OAAO,EAAE;MAC5D,IAAIL,MAAM,KAAKC,UAAU,CAACI,OAAO,IAAIX,eAAe,CAACY,OAAO,CAACN,MAAM,CAAC,IAAIN,eAAe,CAACY,OAAO,CAACJ,WAAW,CAAC,EAAE;QAC5G;QACAH,YAAY,CAACH,SAAS,EAAE,IAAI,CAAC;MAC/B,CAAC,CAAC;;MAGF,IAAII,MAAM,KAAKC,UAAU,CAACI,OAAO,EAAE;QACjC,IAAIX,eAAe,CAACY,OAAO,CAACL,UAAU,CAACI,OAAO,CAAC,IAAIX,eAAe,CAACY,OAAO,CAACJ,WAAW,CAAC,IAAIR,eAAe,CAACY,OAAO,CAACJ,WAAW,CAAC,GAAGR,eAAe,CAACY,OAAO,CAACN,MAAM,CAAC,EAAE;UACjKD,YAAY,CAACH,SAAS,EAAE,KAAK,CAAC;QAChC;QAEA,IAAIF,eAAe,CAACY,OAAO,CAACL,UAAU,CAACI,OAAO,CAAC,GAAGX,eAAe,CAACY,OAAO,CAACJ,WAAW,CAAC,IAAIR,eAAe,CAACY,OAAO,CAACJ,WAAW,CAAC,IAAIR,eAAe,CAACY,OAAO,CAACN,MAAM,CAAC,EAAE;UACjKD,YAAY,CAACH,SAAS,EAAE,IAAI,CAAC;QAC/B;QAEAK,UAAU,CAACI,OAAO,GAAGL,MAAM;MAC7B;IACF;EACF,CAAC,EAAE,CAACA,MAAM,CAAC,CAAC;AACd,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}