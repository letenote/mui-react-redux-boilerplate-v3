{"ast":null,"code":"import _classCallCheck from \"/Users/rezaaditya/Documents/github/mui-app-v3/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/rezaaditya/Documents/github/mui-app-v3/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { createSxResult } from \"../utils/createSxResult\";\nimport { BREAKPOINT_KEYS } from \"../utils/muiBreakpoints\";\nexport var ResponsiveBuilder = /*#__PURE__*/function () {\n  function ResponsiveBuilder(params) {\n    _classCallCheck(this, ResponsiveBuilder);\n    this.config = params.config;\n    this.hidden = params.hidden;\n    this.breakpointKeys = Object.keys(params.config);\n  }\n  _createClass(ResponsiveBuilder, [{\n    key: \"isHidden\",\n    value: function isHidden(breakpoint) {\n      if (!this.hidden) return false;\n      if (typeof this.hidden === \"boolean\" && this.hidden) return true;\n      return this.hidden.includes(breakpoint);\n    }\n    /**\n     * use target as base breakpoints, the result will start from the minimum of target\n     *          xs | sm | md | lg | xl\n     *  target     | y  |    |  y |\n     *   this   y  |    | y  |    |\n     *  ===============================\n     *  result     | y  | y  | y  |\n     */\n  }, {\n    key: \"mergeBreakpoints\",\n    value: function mergeBreakpoints(target) {\n      var targetFound = false;\n      var result = [];\n      var targetKeys = Array.isArray(target) ? target : Object.keys(target);\n      var thisKeys = Object.keys(this.config);\n      BREAKPOINT_KEYS.forEach(function (key) {\n        if (targetKeys.includes(key)) {\n          targetFound = true;\n          result.push(key);\n        } else {\n          if (thisKeys.includes(key) && targetFound) {\n            result.push(key);\n          }\n        }\n      });\n      return result;\n    }\n  }, {\n    key: \"generateSxWithHidden\",\n    value: function generateSxWithHidden(options) {\n      var config = this.config,\n        hidden = this.hidden;\n      var hiddenValue = options.hiddenValue;\n      if (hidden === true) {\n        return hiddenValue !== undefined ? {\n          xs: hiddenValue\n        } : {};\n      }\n      var candidate;\n      return createSxResult(function (bp, lastResultVal) {\n        var _config$bp;\n        candidate = (_config$bp = config[bp]) !== null && _config$bp !== void 0 ? _config$bp : candidate;\n        if (options.strict && lastResultVal === undefined && candidate === undefined) {\n          // cannot find valid config and no result yet\n          return hiddenValue;\n        }\n        if (candidate !== undefined) {\n          var assignedValue = options.assignValue(candidate, bp, lastResultVal);\n          var isHidden = Array.isArray(hidden) && hidden.includes(bp);\n          return isHidden ? hiddenValue : assignedValue;\n        }\n        return undefined;\n      });\n    }\n  }, {\n    key: \"generateSx\",\n    value: function generateSx(getValue, initialValue) {\n      var _this = this;\n      return createSxResult(function (bp) {\n        return getValue(_this.config[bp], bp);\n      }, {\n        breakpoints: this.breakpointKeys,\n        initialValue: initialValue\n      });\n    }\n  }, {\n    key: \"getSxDisplay\",\n    value: function getSxDisplay(appearance) {\n      return this.generateSxWithHidden({\n        assignValue: function assignValue() {\n          return appearance;\n        },\n        hiddenValue: \"none\",\n        strict: true\n      });\n    }\n  }]);\n  return ResponsiveBuilder;\n}();","map":{"version":3,"names":["createSxResult","BREAKPOINT_KEYS","ResponsiveBuilder","params","config","hidden","breakpointKeys","Object","keys","breakpoint","includes","target","targetFound","result","targetKeys","Array","isArray","thisKeys","forEach","key","push","options","hiddenValue","undefined","xs","candidate","bp","lastResultVal","_config$bp","strict","assignedValue","assignValue","isHidden","getValue","initialValue","breakpoints","appearance","generateSxWithHidden"],"sources":["/Users/rezaaditya/Documents/github/mui-app-v3/node_modules/@mui-treasury/layout/esm/shared/ResponsiveBuilder.js"],"sourcesContent":["import { createSxResult } from \"../utils/createSxResult\";\nimport { BREAKPOINT_KEYS } from \"../utils/muiBreakpoints\";\nexport class ResponsiveBuilder {\n  constructor(params) {\n    this.config = params.config;\n    this.hidden = params.hidden;\n    this.breakpointKeys = Object.keys(params.config);\n  }\n\n  isHidden(breakpoint) {\n    if (!this.hidden) return false;\n    if (typeof this.hidden === \"boolean\" && this.hidden) return true;\n    return this.hidden.includes(breakpoint);\n  }\n  /**\n   * use target as base breakpoints, the result will start from the minimum of target\n   *          xs | sm | md | lg | xl\n   *  target     | y  |    |  y |\n   *   this   y  |    | y  |    |\n   *  ===============================\n   *  result     | y  | y  | y  |\n   */\n\n\n  mergeBreakpoints(target) {\n    var targetFound = false;\n    var result = [];\n    var targetKeys = Array.isArray(target) ? target : Object.keys(target);\n    var thisKeys = Object.keys(this.config);\n    BREAKPOINT_KEYS.forEach(key => {\n      if (targetKeys.includes(key)) {\n        targetFound = true;\n        result.push(key);\n      } else {\n        if (thisKeys.includes(key) && targetFound) {\n          result.push(key);\n        }\n      }\n    });\n    return result;\n  }\n\n  generateSxWithHidden(options) {\n    var {\n      config,\n      hidden\n    } = this;\n    var hiddenValue = options.hiddenValue;\n\n    if (hidden === true) {\n      return hiddenValue !== undefined ? {\n        xs: hiddenValue\n      } : {};\n    }\n\n    var candidate;\n    return createSxResult((bp, lastResultVal) => {\n      var _config$bp;\n\n      candidate = (_config$bp = config[bp]) !== null && _config$bp !== void 0 ? _config$bp : candidate;\n\n      if (options.strict && lastResultVal === undefined && candidate === undefined) {\n        // cannot find valid config and no result yet\n        return hiddenValue;\n      }\n\n      if (candidate !== undefined) {\n        var assignedValue = options.assignValue(candidate, bp, lastResultVal);\n        var isHidden = Array.isArray(hidden) && hidden.includes(bp);\n        return isHidden ? hiddenValue : assignedValue;\n      }\n\n      return undefined;\n    });\n  }\n\n  generateSx(getValue, initialValue) {\n    return createSxResult(bp => getValue(this.config[bp], bp), {\n      breakpoints: this.breakpointKeys,\n      initialValue\n    });\n  }\n\n  getSxDisplay(appearance) {\n    return this.generateSxWithHidden({\n      assignValue: () => appearance,\n      hiddenValue: \"none\",\n      strict: true\n    });\n  }\n\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}